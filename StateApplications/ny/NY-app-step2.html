<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NY Application – Step 2: Legal Entity & Business Details</title>
    <link rel="stylesheet" href="../styles.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <img src="../assets/images/ShelterPoint.jpg" alt="ShelterPoint Life Insurance Company" style="height: 50px;">
                <p class="tagline">Application – Step 2 of 8</p>
            </div>
        </header>

        <main>
            <div class="form-section">
                <h2 class="section-title">Legal Entity Type & Business Details</h2>
                <form id="appStep2">
                    <div style="background: var(--bg-light); padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem;">
                        <h3 style="color: var(--primary-color); margin-bottom: 1rem;">Legal Entity Type <span class="required">*</span></h3>
                        <div class="radio-group" style="display:flex; flex-wrap:wrap; gap:1rem;">
                            <div class="radio-item"><input type="radio" id="soleProprietor" name="entityType" value="soleProprietor"><label for="soleProprietor">Sole Proprietor</label></div>
                            <div class="radio-item"><input type="radio" id="partnership" name="entityType" value="partnership"><label for="partnership">Partnership</label></div>
                            <div class="radio-item"><input type="radio" id="corporation" name="entityType" value="corporation"><label for="corporation">Corporation</label></div>
                            <div class="radio-item"><input type="radio" id="association" name="entityType" value="association"><label for="association">Association</label></div>
                            <div class="radio-item"><input type="radio" id="limitedPartnerLP" name="entityType" value="limitedPartnerLP"><label for="limitedPartnerLP">Limited Partner (LP)</label></div>
                            <div class="radio-item"><input type="radio" id="jointVenture" name="entityType" value="jointVenture"><label for="jointVenture">Joint Venture (JV)</label></div>
                            <div class="radio-item"><input type="radio" id="llc" name="entityType" value="llc"><label for="llc">Limited Liability Co. (LLC)</label></div>
                            <div class="radio-item"><input type="radio" id="trustEstate" name="entityType" value="trustEstate"><label for="trustEstate">Trust or Estate</label></div>
                            <div class="radio-item"><input type="radio" id="executorTrustee" name="entityType" value="executorTrustee"><label for="executorTrustee">Executor or Trustee</label></div>
                            <div class="radio-item"><input type="radio" id="llp" name="entityType" value="llp"><label for="llp">Limited Liability Partnership (LLP or LLLP)</label></div>
                            <div class="radio-item"><input type="radio" id="other" name="entityType" value="other"><label for="other">Other</label></div>
                        </div>
                        <div class="form-group" style="margin-top: 1.5rem;">
                            <label for="entityEstablishedDate">If Business Entity is a Proprietorship, LLC, or LLP, provide the date established:</label>
                            <input type="date" id="entityEstablishedDate" name="entityEstablishedDate">
                        </div>
                    </div>

                    <div style="background: var(--bg-light); padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem;">
                        <h3 style="color: var(--primary-color); margin-bottom: 1rem;">Business Details</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="natureOfBusiness">Nature of Business <span class="required">*</span></label>
                                <input type="text" id="natureOfBusiness" name="natureOfBusiness" required>
                            </div>
                            <div class="form-group">
                                <label for="sicCode">SIC Code</label>
                                <input type="text" id="sicCode" name="sicCode" maxlength="6">
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Public Employer</label>
                            <div class="radio-group" style="display:flex; gap:2rem;">
                                <div class="radio-item"><input type="radio" id="publicEmployerYes" name="publicEmployer" value="yes"><label for="publicEmployerYes">Yes</label></div>
                                <div class="radio-item"><input type="radio" id="publicEmployerNo" name="publicEmployer" value="no"><label for="publicEmployerNo">No</label></div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="federalId">Federal ID # <span class="required">*</span></label>
                                <input type="text" id="federalId" name="federalId" placeholder="XX-XXXXXXX" required>
                            </div>
                            <div class="form-group">
                                <label for="unemploymentInsurance">Unemployment Insurance #</label>
                                <input type="text" id="unemploymentInsurance" name="unemploymentInsurance">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="wcCarrier">Current Workers' Compensation Carrier</label>
                                <input type="text" id="wcCarrier" name="wcCarrier">
                            </div>
                            <div class="form-group">
                                <label for="currentDblCarrier">Current DBL Carrier</label>
                                <input type="text" id="currentDblCarrier" name="currentDblCarrier">
                            </div>
                        </div>
                    </div>

                    <div class="button-group">
                        <button type="button" class="btn-secondary" onclick="window.location.href='NY-app-step1.html'">← Back</button>
                        <button type="button" class="btn-primary" onclick="saveAndNext()">Continue →</button>
                    </div>
                </form>
            </div>
        </main>

        <footer>
            <p>© 2025 ShelterPoint Life Insurance Company</p>
        </footer>
    </div>

    <script>
        function loadData() {
            const data = JSON.parse(sessionStorage.getItem('applicationData') || '{}');
            Object.keys(data).forEach(function(key){
                const el = document.getElementById(key);
                if (el) {
                    if (el.type === 'radio') {
                        if (el.value === data[el.name]) el.checked = true;
                    } else {
                        el.value = data[key];
                    }
                }
            });
        }

        function saveAndNext() {
            const form = document.getElementById('appStep2');
            const fd = new FormData(form);
            const existing = JSON.parse(sessionStorage.getItem('applicationData') || '{}');
            // consolidate selected radio values by name
            const radios = {};
            form.querySelectorAll('input[type="radio"]').forEach(function(r){
                if (r.checked) radios[r.name] = r.value;
            });
            Object.assign(existing, radios);
            fd.forEach((v,k)=> existing[k] = v);
            sessionStorage.setItem('applicationData', JSON.stringify(existing));
            window.location.href = 'NY-app-step3.html';
        }

        window.addEventListener('DOMContentLoaded', loadData);
    </script>
</body>
</html>


