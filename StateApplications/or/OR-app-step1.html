<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OR PFML – Step 1: Business & Contact</title>
    <link rel="stylesheet" href="../styles.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <img src="../assets/images/ShelterPoint.jpg" alt="ShelterPoint Life Insurance Company" style="height: 50px;">
                <p class="tagline">Application – Step 1 of 6</p>
            </div>
        </header>
        <main>
            <div class="form-section">
                <h2 class="section-title">Business Information</h2>
                <form id="mnStep1">
                    <div style="background: var(--bg-light); padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem;">
                        <div class="form-group">
                            <label for="businessName">Full Legal Business Name <span class="required">*</span></label>
                            <input type="text" id="businessName" name="businessName" required>
                        </div>
                        <div class="form-group">
                            <label for="businessAddress">Business Address <span class="required">*</span></label>
                            <input type="text" id="businessAddress" name="businessAddress" required>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="businessCity">City <span class="required">*</span></label>
                                <input type="text" id="businessCity" name="businessCity" required>
                            </div>
                            <div class="form-group">
                                <label for="businessState">State <span class="required">*</span></label>
                                <select id="businessState" name="businessState" required>
                                    <option value="">Select...</option>
                                    <option value="OR">Oregon</option>
                                    <option value="WI">Wisconsin</option>
                                    <option value="IA">Iowa</option>
                                    <option value="ND">North Dakota</option>
                                    <option value="SD">South Dakota</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="businessZip">ZIP <span class="required">*</span></label>
                                <input type="text" id="businessZip" name="businessZip" maxlength="10" required>
                            </div>
                        </div>

                        <div class="checkbox-item" style="margin: 0.5rem 0 1rem 0;">
                            <input type="checkbox" id="mailingDifferent" name="mailingDifferent" onchange="toggleMailing()">
                            <label for="mailingDifferent">Mailing address different from business address</label>
                        </div>

                        <div id="mailingSection" class="info-box" style="display: none; margin-top: 1rem;">
                            <div class="form-group">
                                <label for="mailingAddress">Mailing Address</label>
                                <input type="text" id="mailingAddress" name="mailingAddress">
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="mailingCity">Mailing City</label>
                                    <input type="text" id="mailingCity" name="mailingCity">
                                </div>
                                <div class="form-group">
                                    <label for="mailingState">Mailing State</label>
                                    <select id="mailingState" name="mailingState">
                                        <option value="">Select...</option>
                                        <option value="OR">Oregon</option>
                                        <option value="WI">Wisconsin</option>
                                        <option value="IA">Iowa</option>
                                        <option value="ND">North Dakota</option>
                                        <option value="SD">South Dakota</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="mailingZip">Mailing ZIP</label>
                                    <input type="text" id="mailingZip" name="mailingZip" maxlength="10">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div style="background: var(--bg-light); padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem;">
                        <h3 style="color: var(--primary-color); margin-bottom: 1rem;">Contact Information</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="applicantEmail">Applicant E-mail <span class="required">*</span></label>
                                <input type="email" id="applicantEmail" name="applicantEmail" required>
                            </div>
                            <div class="form-group">
                                <label for="applicantPhone">Applicant Phone <span class="required">*</span></label>
                                <input type="tel" id="applicantPhone" name="applicantPhone" placeholder="(555) 123-4567" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="attentionCareOf">Attention/Care of</label>
                                <input type="text" id="attentionCareOf" name="attentionCareOf">
                            </div>
                            <div class="form-group">
                                <label for="websiteAddress">Applicant Website Address</label>
                                <input type="url" id="websiteAddress" name="websiteAddress" placeholder="https://www.example.com">
                            </div>
                        </div>
                        
                    </div>

                    <div class="button-group">
                        <button type="button" class="btn-secondary" onclick="window.location.href='OR-quote.html'">← Back</button>
                        <button type="button" class="btn-primary" onclick="saveAndNext()">Continue →</button>
                    </div>
                </form>
            </div>
        </main>
        <footer>
            <p>© 2025 ShelterPoint Life Insurance Company</p>
        </footer>
    </div>
    <script>
        function loadData(){
            const data = JSON.parse(sessionStorage.getItem('orApplicationData') || '{}');
            Object.keys(data).forEach(function(key){ 
                const el = document.getElementById(key);
                if (el) {
                    if (el.type === 'checkbox') {
                        el.checked = data[key] === 'on';
                    } else {
                        el.value = data[key];
                    }
                }
            });
            // If previously marked different or fields contain values, show mailing section
            const mailingDifferent = data.mailingDifferent === 'on'
                || (data.mailingAddress || data.mailingCity || data.mailingState || data.mailingZip);
            const toggle = document.getElementById('mailingDifferent');
            if (toggle && mailingDifferent) toggle.checked = true;
            toggleMailing();
        }

        function saveAndNext(){
            const fd = new FormData(document.getElementById('mnStep1'));
            const existing = JSON.parse(sessionStorage.getItem('orApplicationData') || '{}');
            fd.forEach((v,k)=> existing[k]=v);
            sessionStorage.setItem('orApplicationData', JSON.stringify(existing));
            window.location.href = 'OR-app-step2.html';
        }

        function toggleMailing() {
            const checked = document.getElementById('mailingDifferent') && document.getElementById('mailingDifferent').checked;
            const section = document.getElementById('mailingSection');
            if (section) section.style.display = checked ? 'block' : 'none';
        }

        window.addEventListener('DOMContentLoaded', loadData);
    </script>
</body>
</html>

