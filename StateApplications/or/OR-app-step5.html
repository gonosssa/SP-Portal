<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OR PFML – Step 5: Upload Documents</title>
    <link rel="stylesheet" href="../styles.css">
    <style>
        .dropzone { border:2px dashed var(--border-color); background:var(--bg-light); border-radius:10px; padding:1.25rem; text-align:center; color:var(--text-light); cursor:pointer; transition: background .15s, border-color .15s; min-height:120px; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:.75rem; }
        .dropzone:hover, .dropzone.dragover { background:#E8F4F8; border-color: var(--accent-color); }
        .dropzone img{ height:40px; opacity:.7; }
        .file-note{ margin-top:.5rem; color: var(--text-light); font-size:.9rem; text-align:center; }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <img src="../assets/images/ShelterPoint.jpg" alt="ShelterPoint Life Insurance Company" style="height: 50px;">
                <p class="tagline">Application – Step 5 of 6</p>
            </div>
        </header>
        <main>
            <div class="form-section">
                <h2 class="section-title">Upload Supplementary Documents</h2>
                <form id="mnStep6Docs">
                    <div style="background: var(--bg-light); padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem;">
                        <h3 style="color: var(--primary-color); margin-bottom: 1rem;">Attachments</h3>
                        <div class="form-group">
                            <label for="docPriorCarrier">Prior Carrier Letter (PDF)</label>
                            <input type="file" id="docPriorCarrier" name="docPriorCarrier" accept=".pdf" style="display:none;">
                            <div id="zonePrior" class="dropzone" onclick="document.getElementById('docPriorCarrier').click()">
                                <img src="../assets/images/upload.png" alt="Upload">
                                <span>Drag & drop files or click to upload</span>
                            </div>
                            <div id="notePrior" class="file-note"></div>
                            <span class="help-text">Optional, if applicable</span>
                        </div>
                        <div class="form-group">
                            <label for="docPayroll">Payroll Report (PDF, XLS, CSV)</label>
                            <input type="file" id="docPayroll" name="docPayroll" accept=".pdf,.xls,.xlsx,.csv" style="display:none;">
                            <div id="zonePayroll" class="dropzone" onclick="document.getElementById('docPayroll').click()">
                                <img src="../assets/images/upload.png" alt="Upload">
                                <span>Drag & drop files or click to upload</span>
                            </div>
                            <div id="notePayroll" class="file-note"></div>
                            <span class="help-text">Optional, if applicable</span>
                        </div>
                        <div class="form-group">
                            <label for="docOrg">Organizational Documents (PDF)</label>
                            <input type="file" id="docOrg" name="docOrg" accept=".pdf" style="display:none;">
                            <div id="zoneOrg" class="dropzone" onclick="document.getElementById('docOrg').click()">
                                <img src="../assets/images/upload.png" alt="Upload">
                                <span>Drag & drop files or click to upload</span>
                            </div>
                            <div id="noteOrg" class="file-note"></div>
                            <span class="help-text">Optional, if applicable</span>
                        </div>
                        <div class="form-group">
                            <label for="docNotes">Notes</label>
                            <textarea id="docNotes" name="docNotes" rows="3" style="width: 100%; padding: 0.75rem; border: 2px solid var(--border-color); border-radius: 8px; font-family: inherit;"></textarea>
                        </div>
                    </div>
                    <div class="button-group">
                        <button type="button" class="btn-secondary" onclick="window.location.href='OR-app-step4.html'">← Back</button>
                        <button type="button" class="btn-primary" onclick="saveAndNext()">Continue →</button>
                    </div>
                </form>
            </div>
        </main>
        <footer><p>© 2025 ShelterPoint Life Insurance Company</p></footer>
    </div>
    <script>
        function loadData(){ const data = JSON.parse(sessionStorage.getItem('orApplicationData') || '{}'); const notes = document.getElementById('docNotes'); if (data.docNotes && notes) notes.value = data.docNotes; }
        function setupDropzone(zoneId,inputId,noteId){ const z=document.getElementById(zoneId), i=document.getElementById(inputId), n=document.getElementById(noteId); if(!z||!i)return; function show(files){ if(!n) return; n.textContent = (files && files.length) ? Array.from(files).map(f=>f.name).join(', ') : ''; } z.addEventListener('dragover', e=>{e.preventDefault(); z.classList.add('dragover');}); z.addEventListener('dragleave', ()=> z.classList.remove('dragover')); z.addEventListener('drop', e=>{ e.preventDefault(); z.classList.remove('dragover'); if(e.dataTransfer && e.dataTransfer.files && e.dataTransfer.files.length){ i.files = e.dataTransfer.files; show(i.files); } }); i.addEventListener('change', ()=> show(i.files)); }
        function saveAndNext(){ const files={}; const prior=document.getElementById('docPriorCarrier'); const payroll=document.getElementById('docPayroll'); const org=document.getElementById('docOrg'); if(prior && prior.files && prior.files.length) files.docPriorCarrierName=prior.files[0].name; if(payroll && payroll.files && payroll.files.length) files.docPayrollName=payroll.files[0].name; if(org && org.files && org.files.length) files.docOrgName=org.files[0].name; const ex=JSON.parse(sessionStorage.getItem('orApplicationData')||'{}'); ex.docNotes = document.getElementById('docNotes').value || ''; Object.assign(ex, files); sessionStorage.setItem('orApplicationData', JSON.stringify(ex)); window.location.href='OR-app-step6.html'; }
        window.addEventListener('DOMContentLoaded', ()=>{ loadData(); setupDropzone('zonePrior','docPriorCarrier','notePrior'); setupDropzone('zonePayroll','docPayroll','notePayroll'); setupDropzone('zoneOrg','docOrg','noteOrg'); });
    </script>
</body>
</html>

